################################################################################
# PREFIXES
################################################################################
PREFIX ns:  <https://data.smartcitymadrid.es/ontology/parking#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

################################################################################
# QUERY 9 - First ten parkings linked to Wikidata
## Retrieves the first ten parkings that have been linked to Wikidata entities via owl:sameAs
## Results are ordered by the parking identifier
################################################################################
SELECT ?id ?name ?wikidata
WHERE {
  ?parking a ns:Parking ;
           ns:hasId ?id ;
           ns:hasName ?name ;
           owl:sameAs ?wikidata .
  FILTER(CONTAINS(STR(?wikidata), "wikidata.org/entity/"))
}
ORDER BY xsd:integer(?id)
LIMIT 10

################################################################################
# QUERY 10 - First ten parkings with linked municipalities in Wikidata
## Retrieves the first ten parkings with their linked municipalities in Wikidata
## Results are ordered by the parking identifier
################################################################################
SELECT ?id ?name ?town
WHERE {
  ?parking a ns:Parking ;
           ns:hasId ?id ;
           ns:hasName ?name ;
           ns:hasTown ?townLink .
  ?townLink owl:sameAs ?town .
  FILTER(CONTAINS(STR(?town), "wikidata.org/entity/"))
}
ORDER BY xsd:integer(?id)
LIMIT 10
